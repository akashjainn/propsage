(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1623:function(e,a,t){Promise.resolve().then(t.bind(t,2755))},2755:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return g}});var l=t(5974),s=t(3865),n=t(9706),o=t(7438),i=t(6169),r=t(2635),d=t(4859);let c=(0,s.lazy)(()=>t.e(312).then(t.bind(t,7312))),m=(0,s.lazy)(()=>t.e(903).then(t.bind(t,1903))),u=(0,s.lazy)(()=>Promise.all([t.e(903),t.e(621)]).then(t.bind(t,1621)).then(e=>({default:e.default}))),h=(0,s.lazy)(()=>t.e(112).then(t.bind(t,9112))),p=(0,s.lazy)(()=>Promise.resolve().then(t.bind(t,2635)).then(e=>({default:e.default})));function g(){let{games:e,loading:a}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{pollIntervalMs:a=6e4,immediate:t=!0}=e,[l,n]=(0,s.useState)([]),[o,i]=(0,s.useState)(t),[r,c]=(0,s.useState)(null),m=(0,s.useCallback)(async()=>{if(!o){i(!0),c(null);try{let e=await fetch(d.bV.gamesToday,{cache:"force-cache",next:{revalidate:60}});if(!e.ok)throw Error("HTTP ".concat(e.status));let a=await e.json(),t=a?Array.isArray(a)?a:Array.isArray(a.games)?a.games:[]:[];n(e=>JSON.stringify(e)===JSON.stringify(t)?e:t)}catch(e){console.error("useGamesToday: failed to fetch games",e),c((null==e?void 0:e.message)||"Failed to load games")}finally{i(!1)}}},[o]);return(0,s.useEffect)(()=>{if(t&&m(),a>0){let e=setInterval(m,a);return()=>clearInterval(e)}},[m,a,t]),{games:l,loading:o,error:r,refresh:m}}({pollIntervalMs:3e5,immediate:!0}),[t,g]=(0,s.useState)(null),[f,x]=(0,s.useState)(!1),v=(0,r.useSearch)(),[y,b]=(0,s.useState)(null),[j,w]=(0,s.useState)(!1),k=(0,s.useRef)(null);(0,s.useEffect)(()=>{console.log("HomePage: Games loaded:",e.length,"selectedGameId:",t),!t&&e.length>0&&(console.log("HomePage: Auto-selecting first game:",e[0].id),g(e[0].id))},[e,t]);let N=e=>{g(e),x(!0)},S=e=>{var a,l;n.n({category:"edge",level:"info",message:"edge_selected",data:{player:e.player,market:e.market}});let s=e.normalizedMarket||e.market;b({...e,normalizedMarket:s}),(null==e?void 0:e.gameId)&&e.gameId!==t&&g(e.gameId),w(!0),null===(a=k.current)||void 0===a||a.focusProp(null!==(l=null==e?void 0:e.normalizedMarket)&&void 0!==l?l:null==e?void 0:e.market)};if(f&&t){let a=e.find(e=>e.id===t),n=a?"".concat(a.away.short," @ ").concat(a.home.short):"Selected Game";return(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500"})}),children:(0,l.jsx)(u,{ref:k,gameId:t,gameTitle:n,onBack:()=>x(!1)})})}return(0,l.jsxs)(o.Vw,{children:[(0,l.jsxs)("section",{className:"mb-12 text-center relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-gradient-surface opacity-60 rounded-3xl"}),(0,l.jsxs)("div",{className:"relative z-10 py-12",children:[(0,l.jsxs)("h1",{className:"text-4xl md:text-6xl font-extrabold tracking-tight mb-6",children:["We analyze",(0,l.jsx)("span",{className:"text-gradient animate-gradient-shift bg-gradient-brand bg-[length:200%_200%]",children:" game film "}),"to show where the market is wrong."]}),(0,l.jsx)("p",{className:"text-xl text-[var(--fg-dim)] mb-8 max-w-3xl mx-auto",children:"Compare market lines with our fair lines, then watch the plays that justify it."}),(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsxs)("button",{onClick:v.open,className:"group flex items-center gap-3 px-8 py-4 bg-gradient-primary hover:shadow-primary hover:scale-105 rounded-xl font-semibold text-[var(--fg)] transition-all duration-300 hover:-translate-y-1 focus:ring-2 focus:ring-primary-400/50 focus:outline-none",children:[(0,l.jsx)("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,l.jsx)("span",{children:"Search teams, players, or props"}),(0,l.jsx)("kbd",{className:"px-2 py-1 text-xs bg-black/20 rounded font-mono",children:"âŒ˜K"})]})})]})]}),(0,l.jsx)("section",{className:"mb-12 space-y-6",id:"insights",children:(0,l.jsxs)("div",{children:[(0,l.jsx)(o.M$,{title:"Top Edge Opportunities",subtitle:"Market vs fair line discrepancies backed by video evidence"}),i.h6.topEdges?(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)("div",{className:"animate-pulse bg-white/5 rounded-xl h-32"}),children:(0,l.jsx)(c,{gameId:t,onSelect:S})}):(0,l.jsx)("div",{className:"text-sm text-white/60",children:"Top edges feature disabled."})]})}),(0,l.jsxs)("section",{className:"mb-8",id:"players",children:[(0,l.jsx)(o.M$,{title:"Today's Games",subtitle:"Select a game to analyze props and watch video evidence"}),(0,l.jsx)(s.Suspense,{fallback:(0,l.jsx)("div",{className:"animate-pulse bg-white/5 rounded-xl h-20"}),children:(0,l.jsx)(h,{games:e,selectedGameId:t||"",onGameSelect:N,loading:a})})]}),(0,l.jsx)(s.Suspense,{fallback:null,children:(0,l.jsx)(p,{isOpen:v.isOpen,onClose:v.close,onSelect:a=>{if(console.log("Search selected:",a),"player"===a.type){var l;console.log("Player selected:",a.title,"Team:",null===(l=a.metadata)||void 0===l?void 0:l.team);let t=e.find(e=>{var t,l,s,n,o,i;return e.home.short===(null===(t=a.metadata)||void 0===t?void 0:t.team)||e.away.short===(null===(l=a.metadata)||void 0===l?void 0:l.team)||e.home.name.toLowerCase().includes((null===(n=a.metadata)||void 0===n?void 0:null===(s=n.team)||void 0===s?void 0:s.toLowerCase())||"")||e.away.name.toLowerCase().includes((null===(i=a.metadata)||void 0===i?void 0:null===(o=i.team)||void 0===o?void 0:o.toLowerCase())||"")});t?(console.log("Found matching game:",t.id),N(t.id)):(console.log("No matching game found, using first available game"),e.length>0&&N(e[0].id))}else if("team"===a.type||"game"===a.type){let t=e.find(e=>e.home.name.toLowerCase().includes(a.title.toLowerCase())||e.away.name.toLowerCase().includes(a.title.toLowerCase())||e.home.short.toLowerCase().includes(a.title.toLowerCase())||e.away.short.toLowerCase().includes(a.title.toLowerCase()));t&&N(t.id)}else if("prop"===a.type&&a.propData){console.log("Prop selected:",a.title,"Prop data:",a.propData);let e={id:a.propData.id,player:a.propData.player,team:a.propData.team,market:a.propData.market,marketLine:a.propData.marketLine,fairLine:a.propData.fairLine,edgePct:a.propData.edgePct,confidence:a.propData.confidence,gameId:a.propData.gameId||t,gameTitle:a.propData.gameTitle,bullets:a.propData.bullets,analysis:a.propData.analysis,normalizedMarket:a.propData.market};S(e)}v.close()}})}),(0,l.jsx)(s.Suspense,{fallback:null,children:(0,l.jsx)(m,{edge:y,gameTitle:(()=>{let a=(null==y?void 0:y.gameId)||t,l=e.find(e=>e.id===a);return l?"".concat(l.away.short," @ ").concat(l.home.short):null})(),open:j,onClose:()=>w(!1)})})]})}}},function(e){e.O(0,[818,180,32,49,917,741,744],function(){return e(e.s=1623)}),_N_E=e.O()}]);