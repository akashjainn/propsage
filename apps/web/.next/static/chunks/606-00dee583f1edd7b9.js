"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[606],{6079:function(e,t,a){a.d(t,{Z:function(){return j}});var s=a(5974),i=a(3865),n=a(7578),r=a(5773),l=a(6169),c=a(7153),o=a.n(c);let d=o()(()=>a.e(958).then(a.bind(a,958)),{loadableGenerated:{webpack:()=>[958]},ssr:!1});var m=function(e){let{src:t,type:a="mp4",poster:n,startTime:r=0,autoPlay:l=!1,muted:c,className:o="",eager:m=!1,title:p}=e,{ref:u,inView:h}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{root:t=null,rootMargin:a="0px",threshold:s=.1,freezeOnceVisible:n=!0}=e,r=(0,i.useRef)(null),[l,c]=(0,i.useState)(null),o=!!(null==l?void 0:l.isIntersecting)&&n;return(0,i.useEffect)(()=>{let e=r.current;if(!e||o)return;let i=new IntersectionObserver(e=>{let[t]=e;c(t)},{root:t,rootMargin:a,threshold:s});return i.observe(e),()=>i.disconnect()},[t,a,s,o]),{ref:r,entry:l,inView:!!(null==l?void 0:l.isIntersecting)}}({rootMargin:"200px",threshold:.1,freezeOnceVisible:!0}),x=m||h,[g,f]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{if(x){let e=setTimeout(()=>f(!0),40);return()=>clearTimeout(e)}},[x]),(0,s.jsxs)("div",{ref:u,className:"relative w-full ".concat(o),children:[!g&&(0,s.jsxs)("div",{className:"aspect-video w-full rounded-xl overflow-hidden relative",children:[n?(0,s.jsx)("img",{src:n,alt:p||"Video thumbnail",className:"w-full h-full object-cover blur-sm scale-105 brightness-90",loading:"lazy"}):(0,s.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-white/10 to-white/5"}),(0,s.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,s.jsx)("div",{className:"px-3 py-1.5 rounded-full bg-black/60 border border-white/20 text-[11px] tracking-wide text-white/70 font-medium",children:"Loading…"})})]}),g&&(0,s.jsx)(d,{source:{type:a,src:t},poster:n,startTime:r,autoPlay:l,muted:c,onReady:()=>{}})]})},p=a(6131),u=a(9795),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:768,[t,a]=(0,i.useState)(()=>window.innerWidth<e);return(0,i.useEffect)(()=>{function t(){a(window.innerWidth<e)}return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e]),t},x=function(e){let{clips:t,eagerFirst:a=!0,className:n="",onSelectClip:r}=e,l=(0,i.useRef)(null),[c,o]=(0,i.useState)(0),d=h(),x=(0,i.useCallback)(e=>{let t=l.current;if(!t)return;let a=t.children[e];a&&a.scrollIntoView({behavior:"smooth",inline:"center",block:"nearest"})},[]),g=()=>o(e=>Math.min(t.length-1,e+1)),f=()=>o(e=>Math.max(0,e-1));return(0,i.useEffect)(()=>{x(c)},[c,x]),(0,i.useEffect)(()=>{let e=e=>{"ArrowRight"===e.key&&g(),"ArrowLeft"===e.key&&f()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,s.jsxs)("div",{className:"relative ".concat(n),children:[(0,s.jsx)("div",{ref:l,className:"flex gap-4 overflow-x-auto scroll-smooth snap-x snap-mandatory pb-2 -mx-4 px-4",style:{scrollbarWidth:"none"},children:t.map((e,i)=>(0,s.jsx)("div",{className:"snap-center shrink-0 w-[calc(100vw-2rem)] sm:w-[360px] max-w-[420px]","aria-label":e.title||"Clip ".concat(i+1),children:(0,s.jsxs)("div",{className:"rounded-2xl border border-white/10 glass-subtle overflow-hidden relative group ".concat(i===c?"ring-2 ring-indigo-400/70":""),onClick:()=>null==r?void 0:r(e),children:[(0,s.jsx)(m,{src:e.url,type:e.type||(e.url.endsWith(".m3u8")?"hls":"mp4"),startTime:e.start,poster:e.thumbnailUrl,eager:a&&0===i,title:e.title,className:""}),(0,s.jsxs)("div",{className:"p-3 space-y-2",children:[(0,s.jsxs)("div",{className:"text-xs uppercase tracking-wide text-white/40 flex items-center justify-between",children:[(0,s.jsx)("span",{children:null!=e.relevance?"Score ".concat((100*e.relevance).toFixed(0),"%"):"Clip"}),(0,s.jsxs)("span",{className:"font-mono text-[10px] text-white/30",children:[i+1,"/",t.length]})]}),e.title&&(0,s.jsx)("div",{className:"text-sm font-medium text-white/90 line-clamp-2",children:e.title}),e.description&&(0,s.jsx)("div",{className:"text-[11px] text-white/60 line-clamp-2",children:e.description})]})]})},e.id||e.url+i))}),!d&&t.length>1&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:f,disabled:0===c,"aria-label":"Previous clip",className:"hidden md:flex absolute -left-4 top-1/2 -translate-y-1/2 h-10 w-10 rounded-full bg-black/40 hover:bg-black/60 border border-white/10 backdrop-blur flex items-center justify-center text-white/70 disabled:opacity-30 disabled:pointer-events-none",children:(0,s.jsx)(p.Z,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:g,disabled:c===t.length-1,"aria-label":"Next clip",className:"hidden md:flex absolute -right-4 top-1/2 -translate-y-1/2 h-10 w-10 rounded-full bg-black/40 hover:bg-black/60 border border-white/10 backdrop-blur flex items-center justify-center text-white/70 disabled:opacity-30 disabled:pointer-events-none",children:(0,s.jsx)(u.Z,{className:"w-5 h-5"})})]}),t.length>1&&(0,s.jsx)("div",{className:"flex items-center justify-center gap-2 mt-2",children:t.map((e,t)=>(0,s.jsx)("button",{onClick:()=>o(t),"aria-label":"Go to clip ".concat(t+1),className:"h-2.5 w-2.5 rounded-full transition-all ".concat(t===c?"bg-indigo-400 w-6":"bg-white/25 hover:bg-white/40")},t))})]})},g=a(6223);function f(e){let{game:t,edge:a}=e,[n,r]=(0,i.useState)([]),[l,c]=(0,i.useState)(!0);return((0,i.useEffect)(()=>{let e=!0;return(async()=>{c(!0);try{var s;let i=new URLSearchParams({game:t,player:a.player,market:a.market}),n=await fetch("/api/tl/clips?".concat(i.toString()),{cache:"no-store"}).then(e=>e.json());if(!e)return;r(null!==(s=null==n?void 0:n.results)&&void 0!==s?s:[])}catch(e){}finally{e&&c(!1)}})(),()=>{e=!1}},[t,a.player,a.market]),l)?(0,s.jsx)("div",{className:"h-40 rounded-xl bg-muted/20 animate-pulse"}):n.length?(0,s.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"text-sm opacity-80",children:[Math.round(e.start),"s–",Math.round(e.end),"s"]}),(0,s.jsx)("video",{src:e.url,controls:!0,preload:"metadata",className:"w-full rounded-xl bg-black aspect-video",onLoadedMetadata:t=>{e.start&&(t.currentTarget.currentTime=e.start)}})]},"".concat(e.url,"-").concat(e.start)))}):(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"No demo clips available."})}var v=a(3310),b=a(4022),y=a(9706),w=a(7610);function j(e){var t,a,c,o,d,p;let{edge:u,gameTitle:j,open:N,onClose:k}=e,E=(0,i.useMemo)(()=>u?"".concat(u.player," ").concat(u.market," ").concat(null!=j?j:"").trim():"",[u,j]),L=l.h.tl&&!!l.Q,{loading:C,results:P,error:S}=function(e){let{indexId:t,query:a,filters:s,debounceMs:n=300}=e,[r,l]=(0,i.useState)(()=>({loading:!1,results:[],error:null}));return(0,i.useEffect)(()=>{if(!(null==a?void 0:a.trim())){l(e=>({...e,results:[]}));return}let e=setTimeout(async()=>{l({loading:!0,results:[],error:null});try{let e=await fetch("/api/tl/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({indexId:t,query:a,filters:s})}).then(e=>e.json());l({loading:!1,results:e.results||[],error:null})}catch(e){l({loading:!1,results:[],error:e})}},n);return()=>clearTimeout(e)},[t,a,JSON.stringify(s),n]),r}(L&&N&&E?{indexId:l.Q,query:E,filters:{game:null!=j?j:void 0}}:{indexId:"",query:""});(0,i.useEffect)(()=>{N&&l.h.tl&&!l.Q&&((0,g.pushToast)("TL feature on but TWELVELABS_INDEX_ID missing. Using demo clips."),y.n({category:"config",level:"warning",message:"tl_missing_index_id"}))},[N]),(0,i.useEffect)(()=>{S&&((0,g.pushToast)("Clip search failed. Please try again."),w.uT("TL search failed",{level:"warning",extra:{edge:u,gameTitle:j,query:E}}))},[S,u,j,E]);let[T,I]=(0,i.useState)(null),M=h();return(0,i.useEffect)(()=>{let e=!0;if(u&&j)return(async()=>{try{var t;let a=new URLSearchParams({game:j,player:u.player,market:u.market}),s=await fetch("/api/tl/clips?".concat(a.toString()),{cache:"no-store"}).then(e=>e.json());if(!e)return;I(null!==(t=null==s?void 0:s.results)&&void 0!==t?t:null)}catch(e){}})(),()=>{e=!1}},[null==u?void 0:u.player,null==u?void 0:u.market,j]),(0,s.jsx)(n.M,{children:N&&u&&(0,s.jsx)(v.dy,{isOpen:N,onClose:k,title:u.player,className:"sm:w-[540px]",children:(0,s.jsxs)(r.E.div,{"data-testid":"evidence-drawer",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:b.Vv,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2 -mt-2",children:[(0,s.jsx)("div",{className:"text-sm text-white/50 font-medium",children:u.market}),j&&(0,s.jsxs)("div",{className:"text-sm text-white/50 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-1 h-1 rounded-full bg-white/30"}),(0,s.jsx)("span",{children:j})]})]}),(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...b.Vv,delay:.2},className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-1 h-6 bg-gradient-primary rounded-full"}),"Video Evidence"]}),C&&(0,s.jsx)(r.E.div,{variants:(0,b.j_)(.1),initial:"initial",animate:"animate",className:"space-y-4",children:Array.from({length:2}).map((e,t)=>(0,s.jsx)(r.E.div,{variants:b.CU,children:(0,s.jsx)(v.Od,{className:"h-48 aspect-video"})},t))}),S&&(0,s.jsx)(r.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-sm text-red-400 p-4 rounded-xl glass border border-red-400/20 text-center",children:"Search failed. Try again."}),(null==P?void 0:P.length)>0&&(M?(0,s.jsx)(x,{clips:P.slice(0,6).map((e,t)=>{var a;return{id:"".concat(null!==(a=e.videoId)&&void 0!==a?a:e.url,"-").concat(e.start),url:e.url,start:e.start,end:e.end,title:e.title,description:e.description,thumbnailUrl:e.thumbnailUrl,relevance:"number"==typeof e.score?e.score:void 0,type:e.url.endsWith(".m3u8")?"hls":"mp4"}}),eagerFirst:!0,className:"mt-1"}):(0,s.jsx)(r.E.div,{variants:(0,b.j_)(.12),initial:"initial",animate:"animate",className:"space-y-6",children:P.slice(0,3).map((e,t)=>{var a,i,n,l;return(0,s.jsxs)(r.E.div,{variants:b.CU,className:"glass rounded-2xl p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsxs)("span",{className:"text-white/70 font-medium",children:["Match Score: ",(0,s.jsx)("span",{className:"text-primary-400 font-bold",children:null!==(n=null===(i=e.score)||void 0===i?void 0:null===(a=i.toFixed)||void 0===a?void 0:a.call(i,2))&&void 0!==n?n:"—"})]}),(0,s.jsxs)("span",{className:"text-white/50 font-medium",children:[Math.round(e.start),"s–",Math.round(e.end),"s"]})]}),(0,s.jsx)(m,{src:e.url,type:e.url.endsWith(".m3u8")?"hls":"mp4",startTime:e.start,eager:0===t,poster:e.thumbnailUrl,title:e.title,className:"shadow-lg"})]},"".concat(null!==(l=e.videoId)&&void 0!==l?l:e.url,"-").concat(e.start))})})),!C&&u&&(!L||(null!==(t=null==P?void 0:P.length)&&void 0!==t?t:0)===0)&&(0,s.jsx)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...b.Vv,delay:.3},children:T?M?(0,s.jsx)(x,{clips:T.slice(0,6).map((e,t)=>({id:"".concat(e.url,"-").concat(e.start),url:e.url,start:e.start,end:e.end,title:e.title,description:e.description,thumbnailUrl:e.thumbnailUrl,relevance:"number"==typeof e.score?e.score:void 0,type:e.url.endsWith(".m3u8")?"hls":"mp4"})),eagerFirst:!0,className:"mt-1"}):(0,s.jsx)(r.E.div,{variants:(0,b.j_)(.1),initial:"initial",animate:"animate",className:"space-y-4",children:T.map((e,t)=>(0,s.jsxs)(r.E.div,{variants:b.CU,className:"glass rounded-2xl p-4 space-y-3",children:[(0,s.jsxs)("div",{className:"text-sm text-white/50 font-medium",children:[Math.round(e.start),"s–",Math.round(e.end),"s"]}),(0,s.jsx)(m,{src:e.url,type:e.url.endsWith(".m3u8")?"hls":"mp4",startTime:e.start,eager:0===t,poster:e.thumbnailUrl,title:e.title,className:"shadow-lg"})]},"".concat(e.url,"-").concat(e.start)))}):(0,s.jsx)(f,{game:null!=j?j:"",edge:u})})]}),(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...b.Vv,delay:.4},className:"space-y-6 pt-6 border-t border-white/10",children:[(0,s.jsxs)(r.E.div,{variants:(0,b.j_)(.08),initial:"initial",animate:"animate",className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)(r.E.div,{variants:b.CU,className:"p-4 rounded-2xl glass-subtle text-center group",whileHover:{backgroundColor:"rgba(255, 255, 255, 0.08)",scale:1.02},transition:{duration:.2},children:[(0,s.jsx)("div",{className:"text-xs text-white/40 font-medium mb-2",children:"Market Line"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-white tabular-nums",children:null!==(a=u.marketLine)&&void 0!==a?a:"—"})]}),(0,s.jsxs)(r.E.div,{variants:b.CU,className:"p-4 rounded-2xl glass-subtle text-center group",whileHover:{backgroundColor:"rgba(255, 255, 255, 0.08)",scale:1.02},transition:{duration:.2},children:[(0,s.jsx)("div",{className:"text-xs text-white/40 font-medium mb-2",children:"Fair Line"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-white tabular-nums",children:null!==(c=u.fairLine)&&void 0!==c?c:"—"})]}),(0,s.jsxs)(r.E.div,{variants:b.CU,className:"p-4 rounded-2xl glass-subtle text-center group border ".concat((null!==(o=u.edgePct)&&void 0!==o?o:0)>=0?"border-green-400/20 bg-green-400/5":"border-red-400/20 bg-red-400/5"),whileHover:{scale:1.02,backgroundColor:(null!==(d=u.edgePct)&&void 0!==d?d:0)>=0?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)"},transition:{duration:.2},children:[(0,s.jsx)("div",{className:"text-xs text-white/40 font-medium mb-2",children:"Edge %"}),(0,s.jsx)("div",{className:"text-2xl font-bold tabular-nums ".concat((null!==(p=u.edgePct)&&void 0!==p?p:0)>=0?"text-green-400":"text-red-400"),children:u.edgePct?"".concat(u.edgePct>0?"+":"").concat(u.edgePct.toFixed(1),"%"):"—"})]}),(0,s.jsxs)(r.E.div,{variants:b.CU,className:"p-4 rounded-2xl glass-subtle text-center group",whileHover:{backgroundColor:"rgba(255, 255, 255, 0.08)",scale:1.02},transition:{duration:.2},children:[(0,s.jsx)("div",{className:"text-xs text-white/40 font-medium mb-2",children:"Confidence"}),(0,s.jsx)("div",{className:"text-2xl font-bold text-white tabular-nums",children:null!=u.confidence?"".concat(Math.round(100*u.confidence),"%"):"—"})]})]}),u.bullets&&u.bullets.length>0&&(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...b.Vv,delay:.5},className:"space-y-4 glass rounded-2xl p-6",children:[(0,s.jsxs)("h4",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-1 h-5 bg-gradient-primary rounded-full"}),"Why this edge exists"]}),(0,s.jsx)(r.E.div,{variants:(0,b.j_)(.1),initial:"initial",animate:"animate",className:"space-y-3",children:u.bullets.map((e,t)=>(0,s.jsxs)(r.E.div,{variants:b.CU,className:"flex items-start gap-3 text-white/80",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-primary-400 mt-2 flex-shrink-0"}),(0,s.jsx)("span",{className:"leading-relaxed",children:e})]},t))})]}),u.analysis&&(0,s.jsxs)(r.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...b.Vv,delay:.6},className:"space-y-4 glass rounded-2xl p-6",children:[(0,s.jsxs)("h4",{className:"text-lg font-bold text-white flex items-center gap-2",children:[(0,s.jsx)("span",{className:"w-1 h-5 bg-gradient-primary rounded-full"}),"Analysis"]}),(0,s.jsx)("p",{className:"text-white/80 leading-relaxed",children:u.analysis})]})]})]})})})}},8721:function(e,t,a){var s=a(5974),i=a(3865),n=a(5773),r=a(2184),l=a(5645),c=a(6937),o=a(25),d=a(7630),m=a(6079),p=a(7438),u=a(3310),h=a(4022);let x=(0,i.forwardRef)(function(e,t){let{gameId:a,gameTitle:x,onBack:g}=e,[f,v]=(0,i.useState)([]),[b,y]=(0,i.useState)(!0),[w,j]=(0,i.useState)(null),[N,k]=(0,i.useState)(!1);(0,i.useImperativeHandle)(t,()=>({focusProp:e=>{for(let s of f){let i=s.props.find(t=>t.propType===e);if(i){var t;let e={id:"".concat(s.playerId,"_").concat(i.propType),gameId:a,player:s.playerName,team:s.team,market:i.propLabel,marketLine:i.marketLine,fairLine:i.fairLine,edgePct:i.edgePct,confidence:"high"===i.confidence?.9:"med"===i.confidence?.75:.6,bullets:(null===(t=i.bullets)||void 0===t?void 0:t.map(e=>e.title))||[],analysis:i.analysis};j(e),k(!0);break}}}})),(0,i.useEffect)(()=>{fetch("/api/insights/".concat(a)).then(async e=>{let t=await e.json();return console.debug("[GameDashboard] /api/insights response",{gameId:a,json:t}),t}).then(e=>{if(e.players)v(e.players);else if(e.insights){let t=new Map;e.insights.forEach(e=>{t.has(e.playerId)||t.set(e.playerId,{playerId:e.playerId,playerName:e.player,team:e.team,position:e.position,props:[]});let a=e.propType.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),s="med";e.confidence>=90?s="high":e.confidence<70&&(s="low");let i=e.bullets.map(e=>"string"==typeof e?{title:e}:e);t.get(e.playerId).props.push({propType:e.propType,propLabel:a,marketLine:e.marketLine,fairLine:e.fairLine,edgePct:e.edge,confidence:s,bullets:i,analysis:e.analysis})}),v(Array.from(t.values()))}else if(e.props){let t=new Map;e.props.forEach(e=>{t.has(e.playerId)||t.set(e.playerId,{playerId:e.playerId,playerName:e.playerName||e.player,team:e.team,position:e.position,props:[]}),t.get(e.playerId).props.push({propType:e.propType||e.stat,propLabel:e.propLabel||e.label,marketLine:e.marketLine||e.line,fairLine:e.fairLine,edgePct:e.edgePct||e.edge,confidence:e.confidence||"med",bullets:e.bullets||[]})}),v(Array.from(t.values()))}y(!1)}).catch(e=>{console.error("Failed to load from insights API, trying props API:",e),fetch("/api/games/".concat(a,"/props")).then(async e=>{let t=await e.json();return console.debug("[GameDashboard] fallback /api/games/[gameId]/props response",{gameId:a,json:t}),t}).then(e=>{if(e.props){let t=new Map;e.props.forEach(e=>{t.has(e.playerId)||t.set(e.playerId,{playerId:e.playerId,playerName:e.playerName||e.player,team:e.team,position:e.position,props:[]}),t.get(e.playerId).props.push({propType:e.propType||e.stat,propLabel:e.propLabel||e.label,marketLine:e.marketLine||e.line,fairLine:e.fairLine,edgePct:e.edgePct||e.edge,confidence:e.confidence||"med",bullets:e.bullets||[]})}),v(Array.from(t.values()))}y(!1)}).catch(e=>{console.error("Both APIs failed:",e),y(!1)})})},[a]);let E=(e,t,s,i)=>{var n;let r={id:"".concat(e,"_").concat(s.propType),gameId:a,player:t,team:i,market:s.propLabel,marketLine:s.marketLine,fairLine:s.fairLine,edgePct:s.edgePct,confidence:"high"===s.confidence?.9:"med"===s.confidence?.75:.6,bullets:(null===(n=s.bullets)||void 0===n?void 0:n.map(e=>e.title))||[],analysis:s.analysis};j(r),k(!0)};return b?(0,s.jsx)(p.Vw,{children:(0,s.jsxs)(u.n1,{children:[(0,s.jsxs)(n.E.div,{className:"mb-8 flex items-center gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:h.Vv,children:[(0,s.jsxs)(n.E.button,{onClick:g,className:"p-3 glass rounded-xl hover:bg-white/20 transition-colors flex items-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},transition:h.WD,children:[(0,s.jsx)(r.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Back"})]}),(0,s.jsx)(p.M$,{title:"".concat(x," Props"),subtitle:"Loading prop insights and video evidence..."})]}),(0,s.jsx)(n.E.div,{variants:(0,h.j_)(.1),initial:"initial",animate:"animate",className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>(0,s.jsx)(n.E.div,{variants:h.CU,children:(0,s.jsx)(u.Od,{className:"h-40 rounded-2xl"})},t))})]})}):(0,s.jsx)(p.Vw,{children:(0,s.jsxs)(u.n1,{children:[(0,s.jsxs)(n.E.div,{className:"mb-8 flex items-center justify-between",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:h.Vv,children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(n.E.button,{onClick:g,className:"p-3 glass rounded-xl hover:bg-white/20 transition-colors flex items-center gap-2 font-medium",whileHover:{scale:1.02},whileTap:{scale:.98},transition:h.WD,children:[(0,s.jsx)(r.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:"Back"})]}),(0,s.jsx)(p.M$,{title:x,subtitle:"Market vs Fair Line Analysis backed by video evidence"})]}),(0,s.jsxs)(n.E.div,{className:"text-right glass rounded-2xl p-4",whileHover:{scale:1.02},transition:h.WD,children:[(0,s.jsx)("div",{className:"text-sm text-white/60 font-medium",children:"Total Props"}),(0,s.jsx)("div",{className:"text-3xl font-bold tabular-nums accent",children:f.reduce((e,t)=>e+t.props.length,0)})]})]}),(0,s.jsxs)(n.E.section,{className:"mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...h.Vv,delay:.1},children:[(0,s.jsx)(p.M$,{title:"Top Edge Opportunities",subtitle:"Highest value props based on video analysis and fair line calculation"}),(0,s.jsx)(n.E.div,{variants:(0,h.j_)(.1),initial:"initial",animate:"animate",className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-6",children:f.flatMap(e=>e.props.map(t=>({...t,playerId:e.playerId,playerName:e.playerName,team:e.team,position:e.position}))).sort((e,t)=>Math.abs(t.edgePct)-Math.abs(e.edgePct)).slice(0,3).map((e,t)=>{let a=e.edgePct>=0;return(0,s.jsx)(n.E.div,{variants:h.CU,children:(0,s.jsxs)(u.zs,{elevated:!0,onClick:()=>E(e.playerId,e.playerName,e,e.team),className:"p-5 md:p-6 cursor-pointer group overflow-hidden relative min-h-[148px] flex flex-col justify-between",children:[(0,s.jsxs)("div",{className:"absolute top-4 left-4 w-8 h-8 rounded-full glass-strong flex items-center justify-center text-sm font-bold text-white",children:["#",t+1]}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[0.02] to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"relative z-10 pt-6",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-4",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)(n.E.div,{className:"font-bold text-white text-base md:text-lg mb-1 truncate",whileHover:{x:2},transition:{type:"spring",stiffness:400,damping:25},children:e.playerName}),(0,s.jsxs)("div",{className:"text-sm text-white/60 flex items-center gap-2",children:[(0,s.jsx)("span",{className:"font-medium",children:e.team}),(0,s.jsx)("span",{className:"w-1 h-1 rounded-full bg-white/30"}),(0,s.jsx)("span",{children:e.propLabel})]})]}),(0,s.jsxs)("div",{className:"text-right flex flex-col items-end gap-1",children:[(0,s.jsx)(u.T4,{value:e.edgePct,className:"text-lg md:text-xl"}),(0,s.jsx)(n.E.div,{className:"text-[11px] text-white/50 font-medium px-2 py-1 rounded-md glass-subtle",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:25},children:e.confidence.toUpperCase()})]})]}),(0,s.jsxs)("div",{className:"flex items-stretch gap-2",children:[(0,s.jsxs)("div",{className:"flex-1 flex items-center justify-center rounded-lg border border-white/15 glass-subtle px-2 py-1.5",children:[(0,s.jsx)("span",{className:"text-[10px] text-white/40 mr-1",children:"M"}),(0,s.jsx)("span",{className:"font-semibold tabular-nums text-sm",children:e.marketLine})]}),(0,s.jsxs)("div",{className:"flex-1 flex items-center justify-center rounded-lg border border-white/15 glass-subtle px-2 py-1.5",children:[(0,s.jsx)("span",{className:"text-[10px] text-white/40 mr-1",children:"F"}),(0,s.jsx)("span",{className:"font-semibold tabular-nums text-sm",children:e.fairLine})]}),(0,s.jsx)("div",{className:"flex-1 flex items-center justify-center rounded-lg border px-2 py-1.5 font-bold text-sm ".concat(a?"border-green-400/30 text-green-300 bg-green-400/5":"border-red-400/30 text-red-300 bg-red-400/5"),children:a?"OVR":"UND"})]})]}),(0,s.jsx)(n.E.div,{className:"absolute bottom-2 right-2 w-6 h-6 rounded-full glass-subtle flex items-center justify-center opacity-0 group-hover:opacity-100",whileHover:{scale:1.1},transition:{duration:.2},children:(0,s.jsx)("svg",{className:"w-3 h-3 text-white/50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},"".concat(e.playerId,"-").concat(e.propType))})})]}),(0,s.jsxs)(n.E.section,{className:"space-y-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...h.Vv,delay:.2},children:[(0,s.jsx)(p.M$,{title:"All Players & Props",subtitle:"Complete breakdown with video evidence for each prop bet"}),(0,s.jsx)(n.E.div,{variants:(0,h.j_)(.1),initial:"initial",animate:"animate",className:"space-y-8",children:f.map(e=>(0,s.jsx)(n.E.div,{variants:h.CU,children:(0,s.jsxs)("div",{className:"glass rounded-3xl p-8",children:[(0,s.jsxs)(n.E.div,{className:"flex items-center gap-6 mb-8",whileHover:{x:4},transition:h.WD,children:[(0,s.jsx)(n.E.div,{className:"w-16 h-16 bg-gradient-to-br from-[var(--mint)] to-[var(--iris)] rounded-2xl flex items-center justify-center text-xl font-bold shadow-lg",whileHover:{scale:1.1,rotate:5},transition:h.WD,children:e.playerName.split(" ").map(e=>e[0]).join("")}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-2xl font-bold text-white",children:e.playerName}),(0,s.jsxs)("p",{className:"text-white/60 font-medium",children:[e.position," • ",e.team]})]}),(0,s.jsxs)(n.E.div,{className:"text-right glass-subtle rounded-2xl p-4",whileHover:{scale:1.05},transition:h.WD,children:[(0,s.jsx)("div",{className:"text-sm text-white/60 font-medium",children:"Props Available"}),(0,s.jsx)("div",{className:"text-2xl font-bold accent tabular-nums",children:e.props.length})]})]}),(0,s.jsx)(n.E.div,{variants:(0,h.j_)(.05),initial:"initial",animate:"animate",className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4",children:e.props.map(t=>{let a=t.edgePct>=0;return(0,s.jsx)(n.E.div,{variants:h.CU,children:(0,s.jsxs)(u.zs,{elevated:!0,onClick:()=>E(e.playerId,e.playerName,t,e.team),className:"p-5 cursor-pointer group overflow-hidden relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[0.02] to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,s.jsxs)("div",{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)(n.E.span,{className:"px-3 py-1.5 rounded-xl text-xs font-bold border ".concat("high"===t.confidence?"bg-green-500/20 text-green-400 border-green-500/30":"med"===t.confidence?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-white/10 text-white/60 border-white/20"),whileHover:{scale:1.05},transition:h.WD,children:t.confidence.toUpperCase()}),(0,s.jsx)("div",{className:"flex items-center gap-1",children:Math.abs(t.edgePct)>10?(0,s.jsx)(l.Z,{className:"w-4 h-4 text-green-500"}):Math.abs(t.edgePct)>5?(0,s.jsx)(c.Z,{className:"w-4 h-4 text-yellow-500"}):(0,s.jsx)(o.Z,{className:"w-4 h-4 text-gray-400"})})]}),(0,s.jsxs)("div",{className:"text-left mb-4",children:[(0,s.jsx)("div",{className:"font-bold text-white mb-2 text-lg",children:t.propLabel}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,s.jsxs)("div",{className:"text-center p-2 rounded-lg glass-subtle",children:[(0,s.jsx)("div",{className:"text-[10px] text-white/40 mb-1",children:"Market"}),(0,s.jsx)("div",{className:"font-bold tabular-nums",children:t.marketLine})]}),(0,s.jsxs)("div",{className:"text-center p-2 rounded-lg glass-subtle",children:[(0,s.jsx)("div",{className:"text-[10px] text-white/40 mb-1",children:"Fair"}),(0,s.jsx)("div",{className:"font-bold tabular-nums",children:t.fairLine})]})]}),(0,s.jsxs)(n.E.div,{className:"text-center py-2 px-3 rounded-xl font-bold text-sm ".concat(a?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"),whileHover:{scale:1.02},transition:h.WD,children:[a?"OVER":"UNDER"," ",Math.abs(t.edgePct).toFixed(1),"%"]})]})]}),(0,s.jsx)(n.E.div,{className:"absolute bottom-2 right-2 w-6 h-6 rounded-full glass-subtle flex items-center justify-center opacity-0 group-hover:opacity-100",whileHover:{scale:1.1},transition:{duration:.2},children:(0,s.jsx)(d.Z,{className:"w-3 h-3 text-white/50"})})]})},t.propType)})})]})},e.playerId))})]}),(0,s.jsx)(m.Z,{edge:w,gameTitle:x,open:N,onClose:()=>k(!1)})]})})});t.Z=x},2084:function(e,t,a){a.d(t,{R:function(){return x},Z:function(){return h}});var s=a(5974),i=a(3865),n=a(7578),r=a(5773);a(644),a(5645),a(7313),a(5510);var l=a(5705),c=a(3549),o=a(5813),d=a(3310),m=a(4022);let p=[{id:"stockton-passing-tds",player:"Gunner Stockton",team:"UGA",market:"Passing TDs",marketLine:1.5,fairLine:1.9,edgePct:21.3,confidence:.88,gameId:"uga-alabama-20250927",gameTitle:"Georgia vs Alabama",bullets:["Red‑zone TD rate on Stockton drives: 42% (team baseline 34%)","Alabama has allowed 1.7 passing TDs per game over last 4 weeks","UGA increasing tempo packages (+9% pace) raising play volume","Film: Stockton consistently wins on layered seam / play‑action concepts"],analysis:"Video shows Stockton manipulating linebackers with eye discipline on play‑action, opening intermediate windows. Matchup factors elevate projection from 1.4 to 1.9 TD passes with >57% probability of 2+."},{id:"stockton-longest-completion",player:"Gunner Stockton",team:"UGA",market:"Longest Completion",marketLine:37.5,fairLine:42,edgePct:12,confidence:.74,gameId:"uga-alabama-20250927",gameTitle:"Georgia vs Alabama",bullets:["Averages 2.6 deep attempts (20+ air yds) per half","Shot rate off play‑action on 2nd & short: 46% (top 10 nationally)","Alabama surrendered five 35+ yard completions past 3 games","Primary deep target usage trending up (target share 28% → 34%)"],analysis:"Georgia self‑scout shows early scripted vertical shot. Defensive rotation in Cover 6 leaves post window vulnerable; model gives 57% ≥38 yd completion vs implied 47%."},{id:"stockton-passing-yards",player:"Gunner Stockton",team:"UGA",market:"Passing Yards",marketLine:248.5,fairLine:262,edgePct:5.4,confidence:.73,gameId:"uga-alabama-20250927",gameTitle:"Georgia vs Alabama",bullets:["Median projection lift due to pace + matchup: +13.5 yards","Explosive pass rate for UGA last 3 weeks: 18% (season 13%)","Alabama pressure rate dip (32% → 26%) without consistent interior push","Stockton completion % in intermediate band (10–19 air yds): 71%"],analysis:"Intermediate efficiency plus stabilized pocket time boosts Stockton’s yardage floor. Alabama conceding more in‑breaking routes; model fair line 262 vs market 248.5."},{id:"king-passing-yards",player:"Haynes King",team:"Georgia Tech",market:"Passing Yards",marketLine:245.5,fairLine:265.2,edgePct:8,confidence:.79,gameId:"gt-wake-forest-20250927",gameTitle:"Georgia Tech @ Wake Forest",bullets:["King averages 268.7 passing yards per game in road starts this season","Wake Forest secondary allows 8.2 yards per attempt (bottom ACC)","Tempo offense runs 78.4 plays per game (pace drives raw volume)","Exceeded 245.5 yards in 6 of 8 ACC matchups"],analysis:"Wake Forest communication lapses vs RPO glance / seam tags expand throwing lanes. King’s scramble‑to‑throw tendency raises yards vs static pressure looks."},{id:"king-rushing-yards",player:"Haynes King",team:"Georgia Tech",market:"Rushing Yards",marketLine:55.5,fairLine:48.2,edgePct:-13.1,confidence:.72,gameId:"gt-wake-forest-20250927",gameTitle:"Georgia Tech @ Wake Forest",bullets:["Baseline rushing output 42.3 yds (design + scramble) per game","Wake Forest uses dedicated spy on 72% of mobile QB snaps","Lane discipline limits explosive scramble chunk gains","Negative edge indicates potential under value vs posted line"],analysis:"Scheme + spy usage suppress high‑end rushing outcomes. Retained to demonstrate negative edge surfacing in search results."}],u=e=>{if(console.log("generateSearchResults called with query:",e),!e.trim())return console.log("generateSearchResults: Empty query, returning empty array"),[];let t=e.toLowerCase(),a=[],s=new Set;p.forEach(e=>{let i=!1,n="",r=e.confidence,l=e.player.toLowerCase();(l.includes(t)||l.replace(/\s/g,"").includes(t.replace(/\s/g,"")))&&(i=!0,n="player",r=e.confidence);let c=e.market.toLowerCase();c.includes(t)&&(i=!0,n=n||"market",r=Math.max(r,.85));let o=e.team.toLowerCase();for(let[e,a]of(o.includes(t)&&(i=!0,n=n||"team",r=Math.max(r,.75)),Object.entries({pass:["passing"],rush:["rushing"],receive:["receiving"],reception:["receiving"],catch:["receiving"],int:["interception"],pick:["interception"],td:["touchdown"],touchdown:["touchdown"],yards:["yards"]})))if(t.includes(e)){let e=a.some(e=>c.includes(e));e&&(i=!0,n=n||"keyword",r=Math.max(r,.7))}if(i&&!s.has(e.id)){s.add(e.id);let t="";switch(n){case"player":t="".concat(e.team," | ").concat(e.market," | Market: ").concat(e.marketLine," | Edge: ").concat(e.edgePct>0?"+":"").concat(e.edgePct.toFixed(1),"%");break;case"market":t="".concat(e.team," | ").concat(e.player," | ").concat(e.marketLine," ").concat(c.includes("yards")?"yards":""," | Edge: ").concat(e.edgePct>0?"+":"").concat(e.edgePct.toFixed(1),"%");break;case"team":t="".concat(e.team," | ").concat(e.player," - ").concat(e.market," | Edge: ").concat(e.edgePct>0?"+":"").concat(e.edgePct.toFixed(1),"%");break;default:t="".concat(e.team," | ").concat(e.player," | ").concat(e.marketLine," | Edge: ").concat(e.edgePct>0?"+":"").concat(e.edgePct.toFixed(1),"%")}a.push({id:"".concat(n,"-").concat(e.id),type:"prop",title:"".concat(e.player," - ").concat(e.market),subtitle:t,confidence:r,propData:e,metadata:{edge:e.edgePct,team:e.team}})}}),0===a.length&&t.length>2&&p.forEach(e=>{let i=e.player.toLowerCase().split(" "),n=t.split(" "),r=n.some(e=>e.length>2&&i.some(t=>t.includes(e)||e.includes(t)));r&&!s.has(e.id)&&(s.add(e.id),a.push({id:"fuzzy-".concat(e.id),type:"prop",title:"".concat(e.player," - ").concat(e.market),subtitle:"".concat(e.team," | Partial match | Edge: ").concat(e.edgePct>0?"+":"").concat(e.edgePct.toFixed(1),"%"),confidence:.5,propData:e,metadata:{edge:e.edgePct,team:e.team}}))}),console.log("generateSearchResults: Final results before sorting:",a);let i=a.sort((e,t)=>(t.confidence||0)-(e.confidence||0));return console.log("generateSearchResults: Final sorted results:",i),i};function h(e){let{isOpen:t,onClose:a,onSelect:p}=e,[h,x]=(0,i.useState)(""),[g,f]=(0,i.useState)([]),[v,b]=(0,i.useState)(0),[y,w]=(0,i.useState)(!1),j=(0,i.useRef)(null),N=(0,i.useRef)(null);return((0,i.useEffect)(()=>{if(console.log("SearchModal: Query changed:",h),!h.trim()){console.log("SearchModal: Empty query, clearing results"),f([]),w(!1);return}console.log("SearchModal: Starting search for:",h),w(!0);let e=setTimeout(()=>{let e=u(h);console.log("SearchModal: Search results generated:",e),f(e),b(0),w(!1)},200+300*Math.random());return()=>clearTimeout(e)},[h]),(0,i.useEffect)(()=>{if(!t)return;let e=e=>{switch(e.key){case"Escape":a();break;case"ArrowDown":e.preventDefault(),b(e=>Math.min(e+1,g.length-1));break;case"ArrowUp":e.preventDefault(),b(e=>Math.max(e-1,0));break;case"Enter":e.preventDefault(),g[v]&&p&&(p(g[v]),a())}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,g,v,a,p]),(0,i.useEffect)(()=>{t&&j.current?j.current.focus():t||(x(""),f([]),b(0))},[t]),(0,i.useEffect)(()=>{if(!t)return;let e=e=>{N.current&&!N.current.contains(e.target)&&a()};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[t,a]),t)?(0,s.jsx)(n.M,{children:t&&(0,s.jsx)(d.XB,{isOpen:t,onClose:a,children:(0,s.jsxs)(r.E.div,{ref:N,className:"w-full max-w-2xl mx-4 overflow-hidden bg-[var(--surface)] border border-[var(--border-strong)] rounded-3xl shadow-brand-glow backdrop-blur-xl",initial:{opacity:0,scale:.9,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-20},transition:m.WD,children:[(0,s.jsx)("div",{className:"border-b border-white/10 p-6",children:(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(r.E.div,{initial:{scale:0},animate:{scale:1},transition:{...m.WD,delay:.1},className:"p-2 rounded-xl glass-subtle",children:(0,s.jsx)(l.Z,{className:"w-5 h-5 text-white/70"})}),(0,s.jsx)("input",{ref:j,type:"text",placeholder:"Search players, props, clips...",value:h,onChange:e=>x(e.target.value),className:"flex-1 text-lg font-medium text-white placeholder-white/40 bg-transparent border-none outline-none ring-0 focus:outline-none focus:ring-0",autoComplete:"off",spellCheck:"false"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)(r.E.div,{className:"flex items-center space-x-1 px-2 py-1 rounded-lg glass-subtle text-xs font-medium text-white/60",whileHover:{scale:1.05},transition:m.WD,children:[(0,s.jsx)(c.Z,{className:"w-3 h-3"}),(0,s.jsx)("span",{children:"K"})]}),(0,s.jsx)(r.E.button,{onClick:a,className:"p-2 hover:bg-white/10 rounded-xl transition-colors text-white/60 hover:text-white",whileHover:{scale:1.05},whileTap:{scale:.95},transition:m.WD,"aria-label":"Close search",children:(0,s.jsx)(o.Z,{className:"w-4 h-4"})})]})]})}),(0,s.jsx)("div",{className:"max-h-96 overflow-y-auto custom-scroll",children:y?(0,s.jsx)(r.E.div,{className:"p-8 text-center",initial:{opacity:0},animate:{opacity:1},transition:m.Vv,children:(0,s.jsxs)("div",{className:"inline-flex items-center space-x-3 text-white/60",children:[(0,s.jsx)("div",{className:"w-4 h-4 border-2 border-primary-400 border-t-transparent rounded-full animate-spin"}),(0,s.jsx)("span",{className:"font-medium",children:"Searching"})]})}):g.length>0?(0,s.jsxs)("div",{className:"p-4 space-y-2",children:[(0,s.jsxs)("div",{className:"text-white text-sm mb-4",children:["Showing ",g.length," results:"]}),g.map((e,t)=>(0,s.jsxs)("button",{onClick:()=>{console.log("SearchModal: Result clicked:",e),p&&p(e),a()},className:"w-full text-left bg-white/5 hover:bg-white/10 rounded-lg p-3 transition-all duration-200 cursor-pointer ".concat(t===v?"ring-2 ring-primary-400 bg-primary-500/10":""),children:[(0,s.jsx)("div",{className:"text-white font-semibold",children:e.title}),(0,s.jsx)("div",{className:"text-white/60 text-sm",children:e.subtitle}),e.confidence&&(0,s.jsxs)("div",{className:"text-xs text-white/40 mt-1",children:[Math.round(100*e.confidence),"% match"]})]},e.id))]}):h.trim()?(0,s.jsxs)("div",{className:"p-8 text-center text-white/50",children:[(0,s.jsxs)("div",{className:"text-white/60 mb-2",children:['No results found for "',h,'"']}),(0,s.jsx)("div",{className:"text-sm text-white/40",children:"Try searching for players, teams, or props"})]}):(0,s.jsxs)("div",{className:"p-8 text-center text-white/50",children:[(0,s.jsx)("div",{className:"text-white/60 mb-4",children:"Start typing to search..."}),(0,s.jsx)("div",{className:"text-sm text-white/40",children:'Try: "Gunner Stockton", "Haynes King", "Passing Yards"'})]})}),(0,s.jsx)(r.E.div,{className:"border-t border-white/10 px-6 py-4 glass-subtle text-xs text-white/60",initial:{opacity:0},animate:{opacity:1},transition:{...m.Vv,delay:.2},children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("span",{className:"px-1.5 py-0.5 rounded glass-subtle text-white/50 font-mono",children:"↑↓"}),(0,s.jsx)("span",{className:"font-medium",children:"Navigate"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("span",{className:"px-1.5 py-0.5 rounded glass-subtle text-white/50 font-mono",children:"↵"}),(0,s.jsx)("span",{className:"font-medium",children:"Select"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,s.jsx)("span",{className:"px-1.5 py-0.5 rounded glass-subtle text-white/50 font-mono text-xs",children:"ESC"}),(0,s.jsx)("span",{className:"font-medium",children:"Close"})]})]}),(0,s.jsx)("span",{className:"text-white/40 font-medium",children:"Powered by TwelveLabs AI"})]})})]})})}):null}function x(){let[e,t]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&"k"===e.key&&(e.preventDefault(),t(!0))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]),{isOpen:e,open:()=>t(!0),close:()=>t(!1)}}},2520:function(e,t,a){a.d(t,{Z:function(){return r}});var s=a(5974),i=a(7536),n=a.n(i);function r(e){let{src:t,alt:a,size:i=48}=e,r="/logo-fallback.svg";return(0,s.jsx)(n(),{src:t||r,alt:a,width:i,height:i,className:"rounded-md bg-white/5",onError:e=>{let t=e.currentTarget;t.src.endsWith(r)||(t.src=r)},unoptimized:!0})}},6223:function(e,t,a){a.r(t),a.d(t,{default:function(){return l},pushToast:function(){return r}});var s=a(5974),i=a(3865);let n=null;function r(e){null==n||n(e)}function l(){let[e,t]=(0,i.useState)([]);return(0,i.useEffect)(()=>(n=e=>{let a=Date.now();t(t=>[...t,{id:a,text:e}]),setTimeout(()=>t(e=>e.filter(e=>e.id!==a)),3500)},()=>{n=null}),[]),(0,s.jsx)("div",{className:"fixed bottom-4 right-4 space-y-2 z-[1000]",children:e.map(e=>(0,s.jsx)("div",{className:"rounded-lg bg-black/80 text-white px-3 py-2 shadow",children:e.text},e.id))})}},3310:function(e,t,a){a.d(t,{T4:function(){return u},dy:function(){return p},XB:function(){return x},zs:function(){return d},n1:function(){return m},Od:function(){return h}});var s=a(5974),i=a(3865),n=a(5773),r=a(668),l=a(9329);function c(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.m6)((0,r.W)(t))}var o=a(4022);function d(e){let{children:t,elevated:a=!1,disabled:i=!1,className:r,...l}=e,d=a?o.z0:o.Qk;return(0,s.jsx)(n.E.div,{variants:i||(0,o.rP)()?{}:d,whileHover:"hover",whileTap:"tap",className:c("rounded-2xl glass light-edge transition-all duration-200",i&&"opacity-50 pointer-events-none",r),...l,children:t})}function m(e){let{children:t,className:a}=e;return(0,s.jsx)(n.E.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:8},transition:o.Vv,className:a,children:t})}function p(e){let{isOpen:t,onClose:a,children:r,title:l,className:d}=e;return(i.useEffect(()=>{let e=e=>{"Escape"===e.key&&a()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,a]),t)?(0,s.jsx)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:o.Vv,className:"fixed inset-0 z-[60] bg-black/70",onClick:a,children:(0,s.jsxs)(n.E.div,{initial:{y:"100%",opacity:.6},animate:{y:0,opacity:1},exit:{y:"100%",opacity:.6},transition:{type:"spring",stiffness:380,damping:32},className:c("absolute right-0 top-0 h-full w-full sm:w-[520px] shadow-[0_-12px_64px_rgba(0,0,0,.5)] overflow-y-auto","rounded-t-2xl sm:rounded-none","bg-gray-900/95 backdrop-blur-xl border-t border-white/10 sm:border-t-0",d),onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{className:"sm:hidden flex justify-center pt-3 pb-2",children:(0,s.jsx)("div",{className:"h-1.5 w-14 rounded-full bg-white/30"})}),l&&(0,s.jsx)("div",{className:"sticky top-0 z-10 bg-gray-900/95 backdrop-blur-xl border-b border-white/10 p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-white",children:l}),(0,s.jsx)("button",{onClick:a,className:"p-2 hover:bg-white/10 rounded-lg transition-colors text-white/60 hover:text-white","aria-label":"Close drawer",children:"✕"})]})}),!l&&(0,s.jsx)("div",{className:"flex justify-end p-2 sm:hidden",children:(0,s.jsx)("button",{onClick:a,className:"px-3 py-1.5 text-sm rounded-md bg-white/10 text-white/70 hover:bg-white/20",children:"Close"})}),(0,s.jsx)("div",{className:"p-4",children:r})]})}):null}function u(e){let{value:t,className:a,suffix:i="%",decimals:n=1}=e,r=(0,o.$i)(t,600,e=>"".concat(e.toFixed(n)).concat(i)),l=t>=0;return(0,s.jsxs)("span",{className:c("font-bold tabular-nums",l?"text-green-400":"text-red-400",a),children:[l?"+":"",r]})}function h(e){let{className:t,variant:a="card"}=e;return(0,s.jsx)("div",{className:c("animate-pulse bg-white/10 rounded-xl",{text:"h-4 w-full",card:"h-32 w-full",avatar:"h-10 w-10 rounded-full"}[a],t),"aria-label":"Loading..."})}function x(e){let{isOpen:t,children:a,className:i,onClose:r}=e;return t?(0,s.jsx)(n.E.div,{initial:{opacity:0,backdropFilter:"blur(0px)"},animate:{opacity:1,backdropFilter:"blur(20px)"},exit:{opacity:0,backdropFilter:"blur(0px)"},transition:o.Vv,className:"fixed inset-0 z-[100] bg-black/40 backdrop-blur-sm",onClick:r,children:(0,s.jsx)(n.E.div,{initial:{opacity:0,scale:.95,y:-20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-20},transition:{type:"spring",stiffness:380,damping:32},className:c("absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 glass-strong rounded-3xl max-w-2xl w-full mx-4",i),onClick:e=>e.stopPropagation(),children:a})}):null}},4859:function(e,t,a){async function s(e){try{let t=await fetch(e);if(!t.ok)return null;return t.json()}catch(e){return null}}a.d(t,{bV:function(){return i},wz:function(){return s}}),a(2608).env.NEXT_PUBLIC_API_BASE_URL;let i={gamesToday:"/api/cfb/games/today",gamesForTeam:e=>"/api/cfb/games/for-team?q=".concat(encodeURIComponent(e)),insightsForGame:e=>"/api/insights/".concat(encodeURIComponent(e)),clipsSearch:"/api/clips/search",videoProxy:e=>"/api/video/clip/".concat(e),thumbProxy:e=>"/api/thumb/".concat(e)}},6169:function(e,t,a){a.d(t,{Q:function(){return n},h:function(){return i}});var s=a(2608);let i={video:"true"===s.env.NEXT_PUBLIC_VIDEO_ENABLED,tl:!1,topEdges:!0},n=s.env.NEXT_PUBLIC_TWELVELABS_INDEX_ID||s.env.TWELVELABS_INDEX_ID||""},4022:function(e,t,a){a.d(t,{$i:function(){return m},CU:function(){return c},Qk:function(){return o},Vv:function(){return n},WD:function(){return i},j_:function(){return l},rP:function(){return r},z0:function(){return d}});var s=a(3865);let i={type:"spring",stiffness:200,damping:26},n={duration:.22,ease:[.22,.61,.36,1]},r=()=>window.matchMedia("(prefers-reduced-motion: reduce)").matches,l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.06;return{animate:{transition:{staggerChildren:r()?0:e}}}},c={initial:{opacity:0,y:12},animate:{opacity:1,y:0,transition:n}},o={hover:{scale:r()?1:1.02,transition:i},tap:{scale:r()?1:.98,transition:i}},d={hover:{y:r()?0:-2,boxShadow:r()?"none":"0 8px 40px rgba(0,0,0,.45)",transition:i}};({...n});let m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,a=arguments.length>2?arguments[2]:void 0,[i,n]=s.useState(0);return s.useEffect(()=>{if(r()){n(e);return}let a=performance.now(),s=0,i=r=>{let l=Math.min(1,(r-a)/t),c=e*(1-Math.pow(1-l,3));n(c),l<1&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>cancelAnimationFrame(s)},[e,t]),a?a(i):i}},7438:function(e,t,a){a.d(t,{Vw:function(){return d},Ct:function(){return u},m3:function(){return p},M$:function(){return m}});var s=a(5974);a(3865);var i=a(7536),n=a.n(i),r=a(7153),l=a.n(r);let c=l()(()=>a.e(233).then(a.bind(a,3233)),{loadableGenerated:{webpack:()=>[3233]},ssr:!1});function o(){return(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-indigo-500 via-purple-600 to-blue-600 ring-2 ring-indigo-400/50 shadow-[0_0_25px_rgba(99,102,241,.4)] flex items-center justify-center overflow-hidden relative group hover:scale-105 transition-all duration-200",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-200"}),(0,s.jsx)(n(),{src:"/favicon-32.png",alt:"PropSage",width:40,height:40,className:"w-8 h-8 object-contain relative z-10 drop-shadow-sm",priority:!0,onError:()=>console.error("AppShell Logo failed to load favicon-32.png"),onLoad:()=>console.log("✅ AppShell Logo loaded favicon-32.png successfully")})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"text-lg font-bold tracking-tight text-white",children:"PropSage"}),(0,s.jsx)("span",{className:"text-xs text-white/60 font-medium -mt-0.5",children:"Sports Intelligence"})]})]})}function d(e){let{children:t}=e;return(0,s.jsx)("div",{className:"min-h-dvh text-slate-100",style:{background:"radial-gradient(1200px 600px at 20% -10%, rgba(64,149,255,.08), transparent), radial-gradient(1000px 500px at 80% 10%, rgba(233,196,106,.06), transparent), #0a0f1a"},children:(0,s.jsxs)("div",{className:"bg-grid/30 min-h-dvh relative pb-20 md:pb-0",children:[(0,s.jsx)("header",{className:"sticky top-0 z-30 border-b border-white/10 backdrop-blur-xl bg-[#0b1420]/80",children:(0,s.jsxs)("div",{className:"mx-auto max-w-6xl px-4 md:px-6 py-3 md:py-4 flex items-center justify-between gap-4",children:[(0,s.jsx)(o,{}),(0,s.jsxs)("div",{className:"hidden md:flex items-center gap-6 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-2 w-2 bg-green-400 rounded-full animate-pulse"}),(0,s.jsx)("span",{className:"text-white/70",children:"Live Analysis"})]}),(0,s.jsx)("div",{className:"text-white/60 font-medium",children:"Market \xb7 Video Intelligence"})]})]})}),(0,s.jsx)("main",{className:"mx-auto max-w-6xl px-4 md:px-6 py-6 md:py-8 space-y-12",children:t}),(0,s.jsx)(c,{})]})})}function m(e){let{title:t,subtitle:a,action:i}=e;return(0,s.jsxs)("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-end gap-3",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("h2",{className:"text-3xl md:text-4xl font-extrabold tracking-tight",children:t}),a&&(0,s.jsx)("p",{className:"mt-1 text-white/70 text-sm md:text-base leading-snug max-w-2xl",children:a})]}),i&&(0,s.jsx)("div",{className:"flex-shrink-0",children:i})]})}let p=e=>{let{className:t="",children:a,...i}=e;return(0,s.jsx)("button",{className:"".concat("rounded-2xl border border-white/10 bg-white/[0.05] hover:border-white/20 active:scale-[.98] transition shadow-[0_10px_30px_rgba(0,0,0,.4)] px-4 h-11 flex items-center gap-2 text-sm font-medium"," ").concat("focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-300/70"," ").concat(t),...i,children:a})},u=e=>{let{children:t,color:a="default",className:i="",...n}=e;return(0,s.jsx)("span",{className:"inline-flex items-center gap-1 rounded-full px-2.5 py-1 text-xs font-medium border ".concat({default:"bg-white/5 text-white/70 border-white/10",emerald:"bg-emerald-500/15 text-emerald-300 border-emerald-400/30",sky:"bg-sky-500/15 text-sky-300 border-sky-400/30"}[a]," ").concat(i),...n,children:t})}}}]);