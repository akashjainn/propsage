"use strict";(()=>{var e={};e.id=795,e.ids=[795],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},50358:e=>{e.exports=require("fs")},71017:e=>{e.exports=require("path")},38593:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>b,originalPathname:()=>v,patchFetch:()=>j,requestAsyncStorage:()=>f,routeModule:()=>m,serverHooks:()=>k,staticGenerationAsyncStorage:()=>y,staticGenerationBailout:()=>w});var i={};s.r(i),s.d(i,{GET:()=>_,dynamic:()=>g});var a=s(67097),n=s(91923),o=s(33077),r=s(2739),l=s(50358),c=s.n(l),d=s(71017),p=s.n(d),u=s(72512);let g="force-dynamic";async function _(e){let{searchParams:t}=new URL(e.url),s=t.get("player")||"",i=t.get("stat")||"",a=parseInt(t.get("limit")||"6");console.log(`[Direct Clips API] Looking for: player="${s}", stat="${i}"`);try{let e=function(){try{let e=[p().join(process.cwd(),"../../api/data/twelvelabs.mock.json"),p().join(process.cwd(),"../api/data/twelvelabs.mock.json"),p().join(process.cwd(),"../../../api/data/twelvelabs.mock.json"),p().join(process.cwd(),"apps/api/data/twelvelabs.mock.json"),"/var/task/apps/api/data/twelvelabs.mock.json","/var/task/app/api/data/twelvelabs.mock.json"];for(let t of e)if(c().existsSync(t))return console.log(`[Direct Clips API] Loading mock data from: ${t}`),JSON.parse(c().readFileSync(t,"utf8"));console.warn("[Direct Clips API] Mock data file not found in filesystem paths, using embedded dataset")}catch(e){console.warn("[Direct Clips API] Could not load mock data from FS:",e)}return u.j}();console.log("[Direct Clips API] Mock data players:",Object.keys(e.players||{}));let t=[],n=s?`cfb_${s.toLowerCase().replace(/\s+/g,"_")}`:"";console.log(`[Direct Clips API] Derived playerId: "${n}"`);let o=n&&i?`${n}:${i.toLowerCase()}`:"",l=u.j.propClipMap?.[o];if(console.log(`[Direct Clips API] PropKey: "${o}", MappedIds:`,l),l&&l.length&&e.players?.[n]){let s=e.players[n].videos||[];for(let i of l){let a=s.find(e=>e.id===i);a&&(console.log(`[Direct Clips API] Found deterministic match: ${i}`),t.push(h(a,e.players[n].team)))}}if(n&&e.players&&e.players[n]&&0===t.length){let s=e.players[n].videos||[];for(let a of s){if(i){let e=i.toLowerCase(),t=a.tags?.some(t=>t.includes(e)||e.includes(t)||e.includes("passing")&&t.includes("pass")||e.includes("rushing")&&t.includes("rush")||e.includes("receiving")&&t.includes("receiv"));if(!t)continue}t.push(h(a,e.players[n].team))}}if(0===t.length&&i&&!e.players?.[n]){console.log(`[Direct Clips API] Player not in dataset, doing generic search for stat: ${i}`);e:for(let[s,n]of Object.entries(e.players||{}))for(let e of n.videos||[]){let s=i.toLowerCase(),o=e.tags?.some(e=>e.includes(s)||s.includes(e));if(o&&(t.push(h(e,n.team)),t.length>=a))break e}}else 0===t.length&&e.players?.[n]&&console.log(`[Direct Clips API] Player ${n} exists but no clips found for stat: ${i}`);t.sort((e,t)=>(t.relevanceScore||0)-(e.relevanceScore||0));let d=t.slice(0,a);return console.log(`[Direct Clips API] Returning ${d.length} clips`),r.Z.json({clips:d,total:d.length,cached:!1,providers:["twelvelabs"],indexStatus:"ready",poweredBy:"TwelveLabs Video Intelligence (Embedded Mock)"})}catch(e){return console.error("[Direct Clips API] Error:",e),r.Z.json({clips:[],error:"Failed to fetch clips",total:0},{status:500})}}function h(e,t){return{id:`twelvelabs_${e.id}`,platform:"twelvelabs",externalId:e.id,title:e.title,description:e.clips?.[0]?.description||e.title,url:e.url,thumbnailUrl:e.thumbnail,author:`${t} Highlights`,duration:e.duration,publishedAt:e.metadata?.date||new Date().toISOString(),viewCount:Math.floor(1e5*Math.random())+1e4,relevanceScore:e.confidence,tags:e.tags||["highlights"],gameContext:{opponent:e.metadata?.opponent,date:e.metadata?.date,week:e.metadata?.week,season:2025},startTime:e.clips?.[0]?.start_time||0,endTime:e.clips?.[0]?.end_time||e.duration}}let m=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/clips/route",pathname:"/api/clips",filename:"route",bundlePath:"app/api/clips/route"},resolvedPagePath:"C:\\Users\\akash\\Documents\\propsage\\apps\\web\\src\\app\\api\\clips\\route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:f,staticGenerationAsyncStorage:y,serverHooks:k,headerHooks:b,staticGenerationBailout:w}=m,v="/api/clips/route";function j(){return(0,o.patchFetch)({serverHooks:k,staticGenerationAsyncStorage:y})}},72512:(e,t,s)=>{s.d(t,{j:()=>i});let i={players:{cfb_gunner_stockton:{name:"Gunner Stockton",team:"UGA",videos:[{id:"vid_stockton_pass_highlights_001",title:"Gunner Stockton passes to Colbie Young touchdown",url:"/clips/9-27%20uga%20alabama%20Gunner%20Stockton%20passes%20to%20Colbie%20Young%20touchdown.mp4",thumbnail:"/clips/thumbnails/9-27%20uga%20alabama%20Gunner%20Stockton%20passes%20to%20Colbie%20Young%20touchdown.jpg",duration:30,confidence:.94,tags:["passing","touchdown","deep_ball","clutch","passing_yds","pass_tds","longest_completion"],metadata:{game:"UGA vs Alabama",date:"2025-09-27",quarter:3,down_distance:"2nd & 8",field_position:"UGA 35"},clips:[{start_time:0,end_time:30,description:"Stockton perfect strike to Young for TD (explosive pass)"}]}]},cfb_haynes_king:{name:"Haynes King",team:"Georgia Tech",videos:[{id:"vid_king_passing_touchdown_001",title:"Haynes King passing touchdown from 3rd and 10",url:"/clips/9-27%20georgia%20tech%20wake%20forest%20haynes%20king%20passing%20touchdown%20from%203rd%20and%2010%20to%20begin%20comeback.mp4",thumbnail:"/clips/thumbnails/9-27%20georgia%20tech%20wake%20forest%20haynes%20king%20passing%20touchdown%20from%203rd%20and%2010%20to%20begin%20comeback.jpg",duration:35,confidence:.92,tags:["passing","touchdown","comeback","clutch","passing_yds","pass_tds"],metadata:{game:"Georgia Tech vs Wake Forest",date:"2025-09-27",quarter:3,down_distance:"3rd & 10",field_position:"WF 25"},clips:[{start_time:0,end_time:35,description:"Critical 3rd and 10 TD pass to begin comeback"}]},{id:"vid_king_rushing_touchdown_001",title:"Haynes King designed QB rushing TD",url:"/clips/9-27%20georgia%20tech%20wake%20forest%20haynes%20king%20running%20touchdown%20bringing%20game%20to%2017-20.mp4",thumbnail:"/clips/thumbnails/9-27%20georgia%20tech%20wake%20forest%20haynes%20king%20running%20touchdown%20bringing%20game%20to%2017-20.jpg",duration:28,confidence:.9,tags:["rushing","rush_tds","rushing_yds","designed_run","mobility","touchdown"],metadata:{game:"Georgia Tech vs Wake Forest",date:"2025-09-27",quarter:2,down_distance:"2nd & Goal",field_position:"WF 5"},clips:[{start_time:0,end_time:28,description:"Designed QB power for rushing touchdown"}]}]},cfb_jamal_haynes:{name:"Jamal Haynes",team:"Georgia Tech",videos:[{id:"vid_jamal_haynes_run_001",title:"Jamal Haynes interior run (ball security highlight)",url:"/clips/9-27%20georgia%20tech%20wake%20forest%20jamal%20haines%20fumble.mp4",thumbnail:"/clips/thumbnails/9-27%20georgia%20tech%20wake%20forest%20jamal%20haines%20fumble.jpg",duration:22,confidence:.78,tags:["rushing","rushing_yds","run_play","ground_game"],metadata:{game:"Georgia Tech vs Wake Forest",date:"2025-09-27",quarter:1,field_position:"GT 40"},clips:[{start_time:0,end_time:22,description:"Haynes interior zone â€“ illustrates rushing style & risk"}]}]},cfb_luke_altmyer:{name:"Luke Altmyer",team:"Illinois",videos:[{id:"vid_altmyer_pass_tds_001",title:"Luke Altmyer 3 TD passes vs USC highlights",url:"/clips/sample-illinois-usc-altmyer-passing.mp4",thumbnail:"/clips/thumbnails/sample-illinois-usc-altmyer-passing.jpg",duration:45,confidence:.91,tags:["passing","pass_tds","touchdown","red_zone","passing_yds"],metadata:{game:"Illinois vs USC",date:"2025-09-21",quarter:"Multiple",field_position:"Various"},clips:[{start_time:0,end_time:45,description:"Altmyer 3 TD compilation - red zone efficiency"}]}]}},propClipMap:{"cfb_gunner_stockton:passing_yds":["vid_stockton_pass_highlights_001"],"cfb_gunner_stockton:pass_tds":["vid_stockton_pass_highlights_001"],"cfb_gunner_stockton:longest_completion":["vid_stockton_pass_highlights_001"],"cfb_haynes_king:passing_yds":["vid_king_passing_touchdown_001"],"cfb_haynes_king:pass_tds":["vid_king_passing_touchdown_001"],"cfb_haynes_king:rush_tds":["vid_king_rushing_touchdown_001"],"cfb_haynes_king:rushing_yds":["vid_king_rushing_touchdown_001"],"cfb_jamal_haynes:rushing_yds":["vid_jamal_haynes_run_001"],"cfb_luke_altmyer:passing_yds":["vid_altmyer_pass_tds_001"],"cfb_luke_altmyer:pass_tds":["vid_altmyer_pass_tds_001"]}}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),i=t.X(0,[102,375],()=>s(38593));module.exports=i})();