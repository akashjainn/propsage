"use strict";(()=>{var e={};e.id=496,e.ids=[496],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},30050:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>f,originalPathname:()=>A,patchFetch:()=>P,requestAsyncStorage:()=>v,routeModule:()=>m,serverHooks:()=>E,staticGenerationAsyncStorage:()=>y,staticGenerationBailout:()=>x});var a={};r.r(a),r.d(a,{POST:()=>_,dynamic:()=>h});var s=r(67097),o=r(91923),n=r(33077),i=r(2739),p=r(18891);let u=process.env.TL_BASE_URL||"https://api.twelvelabs.io",c=process.env.TWELVE_LABS_API_KEY||process.env.TL_API_KEY||process.env.TWELVE_LABS_KEY;async function l(e,t={}){let r=await fetch(`${u}${e}`,{...t,headers:{"Content-Type":"application/json","x-api-key":c||"",...t.headers||{}},cache:"no-store"});if(!r.ok){let t=await r.text();throw Error(`TL_ERR_${r.status}_${e}: ${t.slice(0,200)}`)}return r.json()}let d=p.Ry({indexId:p.Z_(),query:p.Z_().min(2),filters:p.Ry({game:p.Z_().optional(),team:p.Z_().optional()}).optional(),topK:p.Rx().min(1).max(20).default(6)}),h="force-dynamic";async function _(e){try{let{indexId:t,query:r,filters:a,topK:s}=d.parse(await e.json());if(!c)return i.Z.json({error:"Missing Twelve Labs API key (set TWELVE_LABS_API_KEY)"},{status:400});let o=await l("/v3/search",{method:"POST",body:JSON.stringify({index_id:t,query:r,filters:a,top_k:s})}),n=(o?.results||[]).map(e=>({videoId:e.video_id,start:e.start??0,end:e.end??(e.start??0)+12,score:e.score,thumbnail:e.thumbnail_url,url:e.video_url}));return i.Z.json({results:n})}catch(e){return i.Z.json({error:e.message},{status:400})}}let m=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/tl/search/route",pathname:"/api/tl/search",filename:"route",bundlePath:"app/api/tl/search/route"},resolvedPagePath:"C:\\Users\\akash\\Documents\\propsage\\apps\\web\\src\\app\\api\\tl\\search\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:v,staticGenerationAsyncStorage:y,serverHooks:E,headerHooks:f,staticGenerationBailout:x}=m,A="/api/tl/search/route";function P(){return(0,n.patchFetch)({serverHooks:E,staticGenerationAsyncStorage:y})}}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[102,375,891],()=>r(30050));module.exports=a})();