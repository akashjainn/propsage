"use strict";(()=>{var e={};e.id=722,e.ids=[722],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},45811:(e,t,a)=>{a.r(t),a.d(t,{headerHooks:()=>k,originalPathname:()=>w,patchFetch:()=>v,requestAsyncStorage:()=>h,routeModule:()=>_,serverHooks:()=>b,staticGenerationAsyncStorage:()=>f,staticGenerationBailout:()=>y});var s={};a.r(s),a.d(s,{GET:()=>p,dynamic:()=>c});var i=a(67097),n=a(91923),o=a(33077),r=a(2739),l=a(72512);let c="force-dynamic",d="http://localhost:4000";async function p(e){let{searchParams:t}=new URL(e.url),a=t.get("game")||"",s=t.get("player")||"",i=t.get("market")||"";console.log(`[TL Clips API] Looking for: game="${a}", player="${s}", market="${i}" (API_BASE_URL=${d})`);try{let e;s&&s.toLowerCase().replace(/\s+/g,"_"),[s,i].filter(Boolean).join(" "),i&&i.toLowerCase().replace(/\s+/g,"_");let t=`${d}/cfb/clips?limit=6`;s&&(t+=`&player=${encodeURIComponent(s)}`),i&&(t+=`&stat=${encodeURIComponent(i)}`),a&&(t+=`&gameType=${encodeURIComponent(a)}`),console.log(`[TL Clips API] Calling: ${t}`);let n=await fetch(t,{headers:{Accept:"application/json"},signal:AbortSignal.timeout(1e4)});if(!n.ok)throw Error(`Backend API error: ${n.status}`);let o=await n.text();if(o.trim().startsWith("<"))throw Error("Received HTML instead of JSON (possible misconfigured API URL)");try{e=JSON.parse(o)}catch(e){throw Error("Invalid JSON from backend")}let l=(e.clips||[]).map(e=>m(e,s,i));if(0===l.length){console.log("[TL Clips API] Backend returned 0 clips – attempting embedded fallback merge");let e=u(s,i);if(e.length)return l=e,r.Z.json({results:l,source:"embedded-after-backend-empty"})}return console.log(`[TL Clips API] Found ${l.length} clips from backend`),r.Z.json({results:l,source:"backend"})}catch(t){return console.error("[TL Clips API] Backend error:",t),await g(e,s,i)}}async function g(e,t,a){try{console.log("[TL Clips API] Falling back to direct /api/clips");let s=new URL("/api/clips",e.url);t&&s.searchParams.set("player",t),a&&s.searchParams.set("stat",a),s.searchParams.set("limit","6");let i=await fetch(s.toString(),{headers:{Accept:"application/json"}}),n=await i.text();if(n.trim().startsWith("<"))throw Error("Fallback returned HTML");let o=JSON.parse(n),l=(o.clips||[]).map(e=>m(e,t,a));if(console.log(`[TL Clips API] Fallback found ${l.length} clips`),l.length>0)return r.Z.json({results:l,fallback:!0,source:"direct"});let c=u(t,a);return console.log(`[TL Clips API] Embedded fallback produced ${c.length} clips`),r.Z.json({results:c,fallback:!0,source:"embedded"})}catch(s){console.error("[TL Clips API] Fallback failed:",s);let e=u(t,a);if(e.length)return r.Z.json({results:e,fallback:!0,source:"embedded",error:String(s)});return r.Z.json({results:[],error:String(s),fallback:!0,source:"none"})}}function u(e,t){try{let a=[],s=e?`cfb_${e.toLowerCase().replace(/\s+/g,"_")}`:void 0,i=t.toLowerCase(),n=l.j.players||{},o=(s,n)=>{if(i){let e=s.tags||[],t=e=>e.replace(/ing$/,"");if(!e.some(e=>i.includes(e)||e.includes(i)||t(i).includes(t(e))))return}a.push({game:s.metadata?.game||"College Football",player:e||s.title.split(" ")[0],market:t||"Highlights",url:s.url,start:s.clips?.[0]?.start_time||0,end:s.clips?.[0]?.end_time||s.duration||30,title:s.title,description:s.clips?.[0]?.description||s.title,thumbnailUrl:s.thumbnail,confidence:s.confidence||.8})};if(s&&Object.prototype.hasOwnProperty.call(n,s))for(let e of n[s].videos||[])o(e,n[s].team);if(0===a.length)for(let e of Object.keys(n)){let t=n[e];for(let e of t.videos||[])o(e,t.team)}return a.slice(0,6)}catch(e){return console.warn("[TL Clips API] Embedded fallback error",e),[]}}function m(e,t,a){return{game:e.gameContext?.opponent?`${e.gameContext?.team||"Team"} vs ${e.gameContext.opponent}`:e.gameContext?.team||"College Football",player:e.title?.includes("vs")?e.title.split(" vs")[0]:t||"Player",market:a||"Highlights",url:e.url,start:e.startTime||0,end:e.endTime||e.duration||30,title:e.title,description:e.description,thumbnailUrl:e.thumbnailUrl,confidence:e.relevanceScore||.8}}let _=new i.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/tl/clips/route",pathname:"/api/tl/clips",filename:"route",bundlePath:"app/api/tl/clips/route"},resolvedPagePath:"C:\\Users\\akash\\Documents\\propsage\\apps\\web\\src\\app\\api\\tl\\clips\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:h,staticGenerationAsyncStorage:f,serverHooks:b,headerHooks:k,staticGenerationBailout:y}=_,w="/api/tl/clips/route";function v(){return(0,o.patchFetch)({serverHooks:b,staticGenerationAsyncStorage:f})}},72512:(e,t,a)=>{a.d(t,{j:()=>s});let s={players:{cfb_gunner_stockton:{name:"Gunner Stockton",team:"UGA",videos:[{id:"vid_stockton_pass_highlights_001",title:"Gunner Stockton passes to Colbie Young touchdown",url:"/clips/9-27%20uga%20alabama%20Gunner%20Stockton%20passes%20to%20Colbie%20Young%20touchdown.mp4",thumbnail:"/clips/thumbnails/9-27%20uga%20alabama%20Gunner%20Stockton%20passes%20to%20Colbie%20Young%20touchdown.jpg",duration:30,confidence:.94,tags:["passing","touchdown","deep_ball","clutch","passing_yds","pass_tds","longest_completion"],metadata:{game:"UGA vs Alabama",date:"2025-09-27",quarter:3,down_distance:"2nd & 8",field_position:"UGA 35"},clips:[{start_time:0,end_time:30,description:"Stockton perfect strike to Young for TD (explosive pass)"}]}]},cfb_haynes_king:{name:"Haynes King",team:"Georgia Tech",videos:[{id:"vid_king_passing_touchdown_001",title:"Haynes King passing touchdown from 3rd and 10",url:"/clips/9-27%20georgia%20tech%20wake%20forest%20haynes%20king%20passing%20touchdown%20from%203rd%20and%2010%20to%20begin%20comeback.mp4",thumbnail:"/clips/thumbnails/9-27%20georgia%20tech%20wake%20forest%20haynes%20king%20passing%20touchdown%20from%203rd%20and%2010%20to%20begin%20comeback.jpg",duration:35,confidence:.92,tags:["passing","touchdown","comeback","clutch","passing_yds","pass_tds"],metadata:{game:"Georgia Tech vs Wake Forest",date:"2025-09-27",quarter:3,down_distance:"3rd & 10",field_position:"WF 25"},clips:[{start_time:0,end_time:35,description:"Critical 3rd and 10 TD pass to begin comeback"}]},{id:"vid_king_rushing_touchdown_001",title:"Haynes King designed QB rushing TD",url:"/clips/9-27%20georgia%20tech%20wake%20forest%20haynes%20king%20running%20touchdown%20bringing%20game%20to%2017-20.mp4",thumbnail:"/clips/thumbnails/9-27%20georgia%20tech%20wake%20forest%20haynes%20king%20running%20touchdown%20bringing%20game%20to%2017-20.jpg",duration:28,confidence:.9,tags:["rushing","rush_tds","rushing_yds","designed_run","mobility","touchdown"],metadata:{game:"Georgia Tech vs Wake Forest",date:"2025-09-27",quarter:2,down_distance:"2nd & Goal",field_position:"WF 5"},clips:[{start_time:0,end_time:28,description:"Designed QB power for rushing touchdown"}]}]},cfb_jamal_haynes:{name:"Jamal Haynes",team:"Georgia Tech",videos:[{id:"vid_jamal_haynes_run_001",title:"Jamal Haynes interior run (ball security highlight)",url:"/clips/9-27%20georgia%20tech%20wake%20forest%20jamal%20haines%20fumble.mp4",thumbnail:"/clips/thumbnails/9-27%20georgia%20tech%20wake%20forest%20jamal%20haines%20fumble.jpg",duration:22,confidence:.78,tags:["rushing","rushing_yds","run_play","ground_game"],metadata:{game:"Georgia Tech vs Wake Forest",date:"2025-09-27",quarter:1,field_position:"GT 40"},clips:[{start_time:0,end_time:22,description:"Haynes interior zone – illustrates rushing style & risk"}]}]},cfb_luke_altmyer:{name:"Luke Altmyer",team:"Illinois",videos:[{id:"vid_altmyer_pass_tds_001",title:"Luke Altmyer 3 TD passes vs USC highlights",url:"/clips/sample-illinois-usc-altmyer-passing.mp4",thumbnail:"/clips/thumbnails/sample-illinois-usc-altmyer-passing.jpg",duration:45,confidence:.91,tags:["passing","pass_tds","touchdown","red_zone","passing_yds"],metadata:{game:"Illinois vs USC",date:"2025-09-21",quarter:"Multiple",field_position:"Various"},clips:[{start_time:0,end_time:45,description:"Altmyer 3 TD compilation - red zone efficiency"}]}]}},propClipMap:{"cfb_gunner_stockton:passing_yds":["vid_stockton_pass_highlights_001"],"cfb_gunner_stockton:pass_tds":["vid_stockton_pass_highlights_001"],"cfb_gunner_stockton:longest_completion":["vid_stockton_pass_highlights_001"],"cfb_haynes_king:passing_yds":["vid_king_passing_touchdown_001"],"cfb_haynes_king:pass_tds":["vid_king_passing_touchdown_001"],"cfb_haynes_king:rush_tds":["vid_king_rushing_touchdown_001"],"cfb_haynes_king:rushing_yds":["vid_king_rushing_touchdown_001"],"cfb_jamal_haynes:rushing_yds":["vid_jamal_haynes_run_001"],"cfb_luke_altmyer:passing_yds":["vid_altmyer_pass_tds_001"],"cfb_luke_altmyer:pass_tds":["vid_altmyer_pass_tds_001"]}}}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[102,375],()=>a(45811));module.exports=s})();