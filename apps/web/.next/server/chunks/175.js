"use strict";exports.id=175,exports.ids=[175],exports.modules={44175:(e,t,s)=>{s.r(t),s.d(t,{default:()=>u});var a=s(55830),i=s(40931),l=s.n(i),r=s(31969),n=s(33701);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let o=(0,n.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var d=s(46106);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,n.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var p=s(71322);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let m=(0,n.Z)("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);var x=s(34332),h=s(47296),g=s(69041),y=s(50024);let f=l().memo((0,i.forwardRef)(function({gameId:e,gameTitle:t,onBack:s},l){let[n,f]=(0,i.useState)([]),[u,b]=(0,i.useState)(!0),[v,j]=(0,i.useState)(null),[N,w]=(0,i.useState)(!1);(0,i.useImperativeHandle)(l,()=>({focusProp:t=>{for(let s of n){let a=s.props.find(e=>e.propType===t);if(a){let t={id:`${s.playerId}_${a.propType}`,gameId:e,player:s.playerName,team:s.team,market:a.propLabel,marketLine:a.marketLine,fairLine:a.fairLine,edgePct:a.edgePct,confidence:"high"===a.confidence?.9:"med"===a.confidence?.75:.6,bullets:a.bullets?.map(e=>e.title)||[],analysis:a.analysis};j(t),w(!0);break}}}})),(0,i.useEffect)(()=>{fetch(`/api/insights/${e}`).then(async e=>{let t=await e.json();return t}).then(e=>{if(e.players)f(e.players);else if(e.insights){let t=new Map;e.insights.forEach(e=>{t.has(e.playerId)||t.set(e.playerId,{playerId:e.playerId,playerName:e.player,team:e.team,position:e.position,props:[]});let s=e.propType.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),a="med";e.confidence>=90?a="high":e.confidence<70&&(a="low");let i=e.bullets.map(e=>"string"==typeof e?{title:e}:e);t.get(e.playerId).props.push({propType:e.propType,propLabel:s,marketLine:e.marketLine,fairLine:e.fairLine,edgePct:e.edge,confidence:a,bullets:i,analysis:e.analysis})}),f(Array.from(t.values()))}else if(e.props){let t=new Map;e.props.forEach(e=>{t.has(e.playerId)||t.set(e.playerId,{playerId:e.playerId,playerName:e.playerName||e.player,team:e.team,position:e.position,props:[]}),t.get(e.playerId).props.push({propType:e.propType||e.stat,propLabel:e.propLabel||e.label,marketLine:e.marketLine||e.line,fairLine:e.fairLine,edgePct:e.edgePct||e.edge,confidence:e.confidence||"med",bullets:e.bullets||[]})}),f(Array.from(t.values()))}b(!1)}).catch(t=>{console.error("Failed to load from insights API, trying props API:",t),fetch(`/api/games/${e}/props`).then(async e=>{let t=await e.json();return t}).then(e=>{if(e.props){let t=new Map;e.props.forEach(e=>{t.has(e.playerId)||t.set(e.playerId,{playerId:e.playerId,playerName:e.playerName||e.player,team:e.team,position:e.position,props:[]}),t.get(e.playerId).props.push({propType:e.propType||e.stat,propLabel:e.propLabel||e.label,marketLine:e.marketLine||e.line,fairLine:e.fairLine,edgePct:e.edgePct||e.edge,confidence:e.confidence||"med",bullets:e.bullets||[]})}),f(Array.from(t.values()))}b(!1)}).catch(e=>{console.error("Both APIs failed:",e),b(!1)})})},[e]);let k=(t,s,a,i)=>{let l={id:`${t}_${a.propType}`,gameId:e,player:s,team:i,market:a.propLabel,marketLine:a.marketLine,fairLine:a.fairLine,edgePct:a.edgePct,confidence:"high"===a.confidence?.9:"med"===a.confidence?.75:.6,bullets:a.bullets?.map(e=>e.title)||[],analysis:a.analysis};j(l),w(!0)};return u?a.jsx(h.Vw,{children:(0,a.jsxs)(g.n1,{children:[(0,a.jsxs)(r.E.div,{className:"mb-8 flex items-center gap-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:y.Vv,children:[(0,a.jsxs)(r.E.button,{onClick:s,className:"p-3 glass rounded-xl hover:bg-white/20 transition-colors flex items-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},transition:y.WD,children:[a.jsx(o,{className:"w-4 h-4"}),a.jsx("span",{children:"Back"})]}),a.jsx(h.M$,{title:`${t} Props`,subtitle:"Loading prop insights and video evidence..."})]}),a.jsx(r.E.div,{variants:(0,y.j_)(.1),initial:"initial",animate:"animate",className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:Array.from({length:6}).map((e,t)=>a.jsx(r.E.div,{variants:y.CU,children:a.jsx(g.Od,{className:"h-40 rounded-2xl"})},t))})]})}):a.jsx(h.Vw,{children:(0,a.jsxs)(g.n1,{children:[(0,a.jsxs)(r.E.div,{className:"mb-8 flex items-center justify-between",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:y.Vv,children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)(r.E.button,{onClick:s,className:"p-3 glass rounded-xl hover:bg-white/20 transition-colors flex items-center gap-2 font-medium",whileHover:{scale:1.02},whileTap:{scale:.98},transition:y.WD,children:[a.jsx(o,{className:"w-4 h-4"}),a.jsx("span",{children:"Back"})]}),a.jsx(h.M$,{title:t,subtitle:"Market vs Fair Line Analysis backed by video evidence"})]}),(0,a.jsxs)(r.E.div,{className:"text-right glass rounded-2xl p-4",whileHover:{scale:1.02},transition:y.WD,children:[a.jsx("div",{className:"text-sm text-white/60 font-medium",children:"Total Props"}),a.jsx("div",{className:"text-3xl font-bold tabular-nums accent",children:n.reduce((e,t)=>e+t.props.length,0)})]})]}),(0,a.jsxs)(r.E.section,{className:"mb-12",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...y.Vv,delay:.1},children:[a.jsx(h.M$,{title:"Top Edge Opportunities",subtitle:"Highest value props based on video analysis and fair line calculation"}),a.jsx(r.E.div,{variants:(0,y.j_)(.1),initial:"initial",animate:"animate",className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4 md:gap-6",children:n.flatMap(e=>e.props.map(t=>({...t,playerId:e.playerId,playerName:e.playerName,team:e.team,position:e.position}))).sort((e,t)=>Math.abs(t.edgePct)-Math.abs(e.edgePct)).slice(0,3).map((e,t)=>{let s=e.edgePct>=0;return a.jsx(r.E.div,{variants:y.CU,children:(0,a.jsxs)(g.zs,{elevated:!0,onClick:()=>k(e.playerId,e.playerName,e,e.team),className:"p-5 md:p-6 cursor-pointer group overflow-hidden relative min-h-[148px] flex flex-col justify-between",children:[(0,a.jsxs)("div",{className:"absolute top-4 left-4 w-8 h-8 rounded-full glass-strong flex items-center justify-center text-sm font-bold text-white",children:["#",t+1]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[0.02] to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,a.jsxs)("div",{className:"relative z-10 pt-6",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3 mb-4",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx(r.E.div,{className:"font-bold text-white text-base md:text-lg mb-1 truncate",whileHover:{x:2},transition:{type:"spring",stiffness:400,damping:25},children:e.playerName}),(0,a.jsxs)("div",{className:"text-sm text-white/60 flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:e.team}),a.jsx("span",{className:"w-1 h-1 rounded-full bg-white/30"}),a.jsx("span",{children:e.propLabel})]})]}),(0,a.jsxs)("div",{className:"text-right flex flex-col items-end gap-1",children:[a.jsx(g.T4,{value:e.edgePct,className:"text-lg md:text-xl"}),a.jsx(r.E.div,{className:"text-[11px] text-white/50 font-medium px-2 py-1 rounded-md glass-subtle",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:25},children:e.confidence.toUpperCase()})]})]}),(0,a.jsxs)("div",{className:"flex items-stretch gap-2",children:[(0,a.jsxs)("div",{className:"flex-1 flex items-center justify-center rounded-lg border border-white/15 glass-subtle px-2 py-1.5",children:[a.jsx("span",{className:"text-[10px] text-white/40 mr-1",children:"M"}),a.jsx("span",{className:"font-semibold tabular-nums text-sm",children:e.marketLine})]}),(0,a.jsxs)("div",{className:"flex-1 flex items-center justify-center rounded-lg border border-white/15 glass-subtle px-2 py-1.5",children:[a.jsx("span",{className:"text-[10px] text-white/40 mr-1",children:"F"}),a.jsx("span",{className:"font-semibold tabular-nums text-sm",children:e.fairLine})]}),a.jsx("div",{className:`flex-1 flex items-center justify-center rounded-lg border px-2 py-1.5 font-bold text-sm ${s?"border-green-400/30 text-green-300 bg-green-400/5":"border-red-400/30 text-red-300 bg-red-400/5"}`,children:s?"OVR":"UND"})]})]}),a.jsx(r.E.div,{className:"absolute bottom-2 right-2 w-6 h-6 rounded-full glass-subtle flex items-center justify-center opacity-0 group-hover:opacity-100",whileHover:{scale:1.1},transition:{duration:.2},children:a.jsx("svg",{className:"w-3 h-3 text-white/50",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})},`${e.playerId}-${e.propType}`)})})]}),(0,a.jsxs)(r.E.section,{className:"space-y-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{...y.Vv,delay:.2},children:[a.jsx(h.M$,{title:"All Players & Props",subtitle:"Complete breakdown with video evidence for each prop bet"}),a.jsx(r.E.div,{variants:(0,y.j_)(.1),initial:"initial",animate:"animate",className:"space-y-8",children:n.map(e=>a.jsx(r.E.div,{variants:y.CU,children:(0,a.jsxs)("div",{className:"glass rounded-3xl p-8",children:[(0,a.jsxs)(r.E.div,{className:"flex items-center gap-6 mb-8",whileHover:{x:4},transition:y.WD,children:[a.jsx(r.E.div,{className:"w-16 h-16 bg-gradient-to-br from-[var(--mint)] to-[var(--iris)] rounded-2xl flex items-center justify-center text-xl font-bold shadow-lg",whileHover:{scale:1.1,rotate:5},transition:y.WD,children:e.playerName.split(" ").map(e=>e[0]).join("")}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-2xl font-bold text-white",children:e.playerName}),(0,a.jsxs)("p",{className:"text-white/60 font-medium",children:[e.position," • ",e.team]})]}),(0,a.jsxs)(r.E.div,{className:"text-right glass-subtle rounded-2xl p-4",whileHover:{scale:1.05},transition:y.WD,children:[a.jsx("div",{className:"text-sm text-white/60 font-medium",children:"Props Available"}),a.jsx("div",{className:"text-2xl font-bold accent tabular-nums",children:e.props.length})]})]}),a.jsx(r.E.div,{variants:(0,y.j_)(.05),initial:"initial",animate:"animate",className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-4",children:e.props.map(t=>{let s=t.edgePct>=0;return a.jsx(r.E.div,{variants:y.CU,children:(0,a.jsxs)(g.zs,{elevated:!0,onClick:()=>k(e.playerId,e.playerName,t,e.team),className:"p-5 cursor-pointer group overflow-hidden relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/[0.02] to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx(r.E.span,{className:`px-3 py-1.5 rounded-xl text-xs font-bold border ${"high"===t.confidence?"bg-green-500/20 text-green-400 border-green-500/30":"med"===t.confidence?"bg-yellow-500/20 text-yellow-400 border-yellow-500/30":"bg-white/10 text-white/60 border-white/20"}`,whileHover:{scale:1.05},transition:y.WD,children:t.confidence.toUpperCase()}),a.jsx("div",{className:"flex items-center gap-1",children:Math.abs(t.edgePct)>10?a.jsx(d.Z,{className:"w-4 h-4 text-green-500"}):Math.abs(t.edgePct)>5?a.jsx(c,{className:"w-4 h-4 text-yellow-500"}):a.jsx(p.Z,{className:"w-4 h-4 text-gray-400"})})]}),(0,a.jsxs)("div",{className:"text-left mb-4",children:[a.jsx("div",{className:"font-bold text-white mb-2 text-lg",children:t.propLabel}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[(0,a.jsxs)("div",{className:"text-center p-2 rounded-lg glass-subtle",children:[a.jsx("div",{className:"text-[10px] text-white/40 mb-1",children:"Market"}),a.jsx("div",{className:"font-bold tabular-nums",children:t.marketLine})]}),(0,a.jsxs)("div",{className:"text-center p-2 rounded-lg glass-subtle",children:[a.jsx("div",{className:"text-[10px] text-white/40 mb-1",children:"Fair"}),a.jsx("div",{className:"font-bold tabular-nums",children:t.fairLine})]})]}),(0,a.jsxs)(r.E.div,{className:`text-center py-2 px-3 rounded-xl font-bold text-sm ${s?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-red-500/20 text-red-400 border border-red-500/30"}`,whileHover:{scale:1.02},transition:y.WD,children:[s?"OVER":"UNDER"," ",Math.abs(t.edgePct).toFixed(1),"%"]})]})]}),a.jsx(r.E.div,{className:"absolute bottom-2 right-2 w-6 h-6 rounded-full glass-subtle flex items-center justify-center opacity-0 group-hover:opacity-100",whileHover:{scale:1.1},transition:{duration:.2},children:a.jsx(m,{className:"w-3 h-3 text-white/50"})})]})},t.propType)})})]})},e.playerId))})]}),a.jsx(x.default,{edge:v,gameTitle:t,open:N,onClose:()=>w(!1)})]})})})),u=f},71322:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(33701);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]])}};